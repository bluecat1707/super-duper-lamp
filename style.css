/* Notion-like minimal theme â€” light/dark via [data-theme] on documentElement */
:root{
  --bg:#f6f7f8;
  --card:#ffffff;
  --text:#111827;
  --muted:#6b7280;
  --accent:#4a90e2;
  --border:#e6e8eb;
  --progress-bg:#eef2f6;
  --progress-fill:#4a90e2;
  --success:#27ae60;
}

[data-theme="dark"]{
  --bg:#0f1113;
  --card:#151617;
  --text:#e6eef8;
  --muted:#9aa3b2;
  --accent:#6da6ff;
  --border:#26292b;
  --progress-bg:#202326;
  --progress-fill:#6da6ff;
  --success:#34d399;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family: Inter, "Segoe UI", Roboto, system-ui, -apple-system, Arial;
  background:var(--bg);
  color:var(--text);
  padding:20px;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* Header */
header{display:flex;justify-content:space-between;align-items:center;margin-bottom:18px;border-bottom:1px solid var(--border);padding-bottom:12px}
header h1{font-size:1.25rem;margin:0;font-weight:700}
#themeToggle{background:var(--accent);color:#fff;border:none;padding:8px 12px;border-radius:8px;cursor:pointer}

/* Main container */
main{max-width:1000px;margin:18px auto}

/* Person card */
.person{background:var(--card);border-radius:12px;padding:18px;margin-bottom:20px;border:1px solid var(--border);box-shadow:0 6px 18px rgba(15,20,25,0.03)}
.person-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:12px}
.person-header h2{margin:0;font-size:1.1rem}
.person-controls{display:flex;align-items:center;gap:10px}
.unlock-btn{background:var(--accent);color:#fff;border:none;padding:6px 10px;border-radius:8px;cursor:pointer}
.save-status{color:var(--success);font-size:0.9rem;opacity:0;transition:opacity .25s}

/* Subject */
.subject{margin-bottom:16px}
.subject h3{margin:0;font-size:1rem;padding-bottom:8px;border-bottom:1px dashed var(--border);color:var(--accent);font-weight:600}

/* Task row */
.task{display:flex;align-items:center;gap:12px;padding:8px 0}
.task input[type="checkbox"]{width:18px;height:18px;flex-shrink:0;cursor:pointer;accent-color:var(--accent)}
.task input[type="text"]{flex:1;padding:8px 10px;border-radius:8px;border:1px solid var(--border);background:var(--card);color:var(--text);font-size:0.98rem;transition:box-shadow .15s, border-color .15s}
.task input[type="text"]:focus{outline:none;box-shadow:0 0 0 4px color-mix(in srgb, var(--accent) 8%, transparent);border-color:var(--accent)}
.task input[type="text"]:disabled{background:#f3f4f6;color:var(--muted);cursor:not-allowed}
.fixed-task{background:transparent;border:none;padding:0;color:var(--accent);font-weight:600;max-width:160px}

/* Strike-through when checked */
.task input[type="checkbox"]:checked + input[type="text"]{text-decoration:line-through;opacity:0.7}

/* Progress */
.progress-bar-container{height:10px;background:var(--progress-bg);border-radius:8px;overflow:hidden;margin-top:8px}
.progress-bar{height:100%;width:0%;background:var(--progress-fill);transition:width .4s ease-in-out}

/* Responsive */
@media (max-width:700px){
  body{padding:12px}
  .task{gap:10px;flex-wrap:wrap}
  .task input[type="text"]{min-width:0}
}
